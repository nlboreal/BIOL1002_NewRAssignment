[["before-you-start-please-do-the-following.html", "2 Before you start, please do the following:", " 2 Before you start, please do the following: Install: R and RStudio (if you have not already). Read: Introduction to R - Workflow Introduction to R - Working directory Entering and loading data - Loading or importing data Entering and loading data - Inspecting the data Best practices Handling data Remember! The Quantitative Skills for Biology manual you used in BIOL 1001 is still online (and updated regularly). If you need to review how to install and use R, please the manual! You can access it here: https://ahurford.github.io/quant-guide-all-courses/. When using R, you have many ways to get help. In addition, these exercises are based on Week 3: Data in Tables (PART I) and Week 4: Grouping &amp; Joining Data (PART II) of the online course Data Carpentry for Biologists by Dr. Ethan White. If you are not sure how to execute a particular command, you can refer to the Lecture material on Dr. White’s website and/or his instructional videos that go with the relevant lessons. The example data in the lecture material and videos is different from the data you use in the exercise. There is also help available from the TAs/Help Centre. Details on schedule and contact information will be provided by your professor. After completing these exercises you should be able to: install packages and load data, understand the data manipulation functions of dplyr, and execute a simple import and data filter scenario "],["managing-biological-data.html", "3 Managing biological data 3.1 Assignment Overview 3.2 Datasets Overview", " 3 Managing biological data Getting started Review best practices for guidance on how to organize your files. Download, to an appropriate folder, the following .csv files from Brightspace: You can also access these data from here. (As an alternative to the instructions below, you can load the data from the url using csv.read(), but you do need to use the link that appears after you click on the raw button in the upper righthand corner for the relevant .csv files. If you use this url method you do not need to download the data, but the url approach requires an internet connection to be able to load the data to R). MoosePopulation.csv SaplingStudy.csv Open and save a new R Script. Complete the information at the start of the R Script template. Set your working directory Install and load the dplyr R package. If you’re unsure how to install a package, see R Packages. Throughout these instructions are links to the relevant sections in Quantitative Skills for Biology. If you do not complete these steps, you will not be able to complete the HAND IN questions. TO HAND-IN You are to hand in a .R file, formatted as shown in Best Practices - Template with questions and answers included as comments (#) with the lines of code to produce the output asked for included with each answer. It is very important to name your data and objects as instructed in the following questions. Watch out for typos. 3.1 Assignment Overview Newfoundland has one of the highest moose densities in North America, despite moose being invasive to the island. Since their introduction in the early 20th century, moose populations have grown rapidly and now play a significant role in shaping Newfoundland’s ecosystems and its people. The goal of this R coding assignment is to introduce students on to how to manage biological datasets. In this assignment, you will work with mostly fictional datasets to explore how changes in moose populations over have affected: 1. Local biodiversity through moose tree browsing preferences on different species of tree saplings 2. Human communities through human-moose vehicle collisions. 3.2 Datasets Overview You will be working two different datasets. 1. MoosePopulation.csv 2. SaplingStudy.csv You must download these datasets before beginning this assignment. You can download them from Brightspace: You can also access these data from here. Then, save all .csv files to an appropriate folder (E.g., BIOL1002_Coding). "],["part-i-moose-populations-in-newfoundland.html", "4 Part I: Moose Populations in Newfoundland", " 4 Part I: Moose Populations in Newfoundland Install the dplyr package using install.packages() function. You only need to do this once. Question 1 Then, with dplyr installed, use the library() function to load dplyr so that its functions are available to use. Question 2 read.csv() Next import the MoosePopulation.csv dataset. Name this dataset moosedata. If you use the programmatic way (i.e., command line), your command may look something like this: moosedata &lt;- read.csv(&quot;MoosePopulation.csv&quot;) Question 3 Take a moment to look through the data you just imported by using View() function. You might notice that some cells are empty or “NA” — these are missing values. When dealing with large biological datasets, it is common to start by removing missing data. Write a line of code where you use na.omit() to remove rows with missing values. Save your dataset with the cleaned version as moose_clean (as in the example code below). moose_clean &lt;- na.omit(moosedata) Question 4 Next, let’s simplify the dataset to only include the columns of interest. Add a line of code where you use the select() function to select the following columns: Ecoregion, Year, Area, Estimated_Moose_Pop. Remember to save your dataset with the above data as moose_sel. moose_sel &lt;- select(moose_clean, Ecoregion, Year, Area, Estimated_Moose_Pop) Question 5 a. What is the oldest observation in the dataset? Add a line where you use the min() function to find the oldest Year and save the result as year_min. Use the max() function to what is the highest ‘Estimated_Moose_Pop’ recorded? Save the result of max() as moose_max. Question 6 Different ecoregions cover different land areas, so comparing raw population numbers is not very helpful. Standardize your data by calculating moose density for each ecoregion. Using the mutate() function, create a new column called MooseDensity in the moose_sel dataset you made above. Save the result as moosedata2. Remember density is equal to population divided by area. moosedata2 &lt;- mutate(moose_sel, MooseDensity = Estimated_Moose_Pop / Area) Question 7 Now, let’s visualize the data. Using the plot() function, make a line graph to show the the changes in MooseDensity over Year. Full marks for including axis labels and figure title ( xlab , ylab , main). plot(moosedata2$Year, moosedata2$MooseDensity, xlab = &quot;year&quot;, ylab = &quot;Moose per sq km&quot;, main = &quot;Moose density in Newfoundland ecoregions over time&quot;) Question 8 The research team were particularly interested in how moose populations have changed over time in the Western Forests Ecoregion. Create a new dataset, where you use the filter() function to only include observations from the Western_Forests ecoregion. Save the result as moose_west. moose_west &lt;- filter(moosedata2, Ecoregion == &quot;Western_Forests&quot;) b) Use the plot() function to make a line graph (type = \"l\") showing how moose density has changed over time in Western_Forests region. Full marks for including axis labels and figure title ( xlab , ylab , main). HINT: Adapt the code given to you in Question 7 above. Question 9 The research team was interested in trends for all ecoregions for just recent years. Using the original, unfiltered dataset you created in Question 6 above, use the filter() function to filter for the year 2020, and save the dataset as moose_2020. HINT: Adapt the code given to you in Question 8 above. The research team considered moose densities above 2.0 moose/km² to be high. Using the dataset you just created, filter() the MooseDensity to only show ecoregions where moose density is greater than 2.0. Save the dataset as moose_2020_high. HINT: Adapt the code given to you in Question 8. With the dataset you just created, use the arrange() function to sort the MooseDensity column in descending order. Save the result as moose_2020_high_byD. HINT: You can follow this template: arrange(Dataset, desc(ColumnName)) Question 10 Pipes %&gt;% allow you to connect one line of code to the next, so you don’t have to save the dataset under a new name for each step. Repeat the steps from the previous question using a pipe at the end of each line. Using your cleaned dataset moosedata2 from Question 6 above, filter() for the year 2020, then filter() for MooseDensity above 2.0, then arrange() in desc() order, then finally print() the output. Code showing how to use pipes %&gt;% is below, however you may need to adapt it to the way you have named your dataframes. Save the final result as moosefinal. moosefinal &lt;- moosedata2 %&gt;% filter(Year == 2020) %&gt;% filter(MooseDensity &gt; 2.0) %&gt;% arrange(desc(MooseDensity)) %&gt;% print() "],["part-ii-tree-sapling-study.html", "5 Part II: Tree Sapling Study", " 5 Part II: Tree Sapling Study In this section we will be working with the SaplingStudy dataset. We are giving you less code here; but many of the tasks are similar to what you just completed in Part One. Your task is to adapt the code given above to these new datasets and questions. Dataset Overview: A team of researchers at MUN went to each ecoregion and sampled all the different tree saplings that grew that year. The goal of this study was to see if moose have browsing preference on sapling species. For each tree they recorded The height of the tree (cm) The moose browsing intensity: With 0 being no browsing by moose and 5 meaning severe browsing. Question 11 a. Load the data file: SaplingStudy.csv and save your dataset as saplings. Then remove the NAs from the dataset using na.omit() function. Remember to save the cleaned version of your dataset to a new name (or override the old name). Save as sap_clean. Question 12 a. How does moose browsing pressure vary across different ecoregions? With the help of pipes %&gt;%, create a new database using the group_by() function to group the data by Ecoregion, and then use summarize() to calculate the mean() moose BrowsingScore for each site. Print the result using the print() function. Save the result as sap_reg_browse. HINT: Remember to use your cleaned dataset from the question above. Which ecoregions have the highest and lowest amount of moose browsing? Rearrange your dataset in order of decreasing average browsing score AverageBrowsing. Save the result as avg_browse_reg. Add a short comment # indicating which regions had the highest and lowest average browsing scores. Question 13 How does the average tree height vary across different ecoregions? With the help of pipes %&gt;%, use the group_by function to group the data by Ecoregion, and then use summarize() to calculate the mean() tree Height for each group. Print the result using the print() function. Save the result as sap_reg_height. HINT: Adapt the code from Question 12 above. The team considered average heights less than 20 cm to be severely browsed by moose. Add a short comment # to describe which ecoregions have average heights less than 20 cm. Do this by looking at your data or using a filter(). Print the result using the print() function. Save the result as sap_reg_height_low. Question 14 a) How does the average browsing score vary across different tree sapling species? Use the group_by function to group the data by Species, and then use summarize() tocalculate the mean tree BrowsingScore for each group. Print the result using the print() function. Save the result as sap_spe_browse. HINT: Adapt the code from Question 12. Which species have the highest and lowest browsing? Rearrange the data according to decreasing mean browsing score. Save the rearranged results as avg_browse_spe. Add a comment # saying which species has the highest browsing score, which species has the lowest? Question 15 A team of researchers in interested in how Balsam Fir browsing intensity varies by ecoregion. With the help of pipes %&gt;%, use the filter() function to filter the Species column for only Balsam_Fir, then use group_by() function to sort by Ecoregion , and then determine mean() moose BrowsingScore. Save the resulting summary table as fir_reg_browse. HINT: Adapt the code from Question 12 above. Question 16 Using the BalsamFir dataset you created in Question 15, make a bar graph the barplot() function. Each bar should represent an ecoregion, and the height of the bar should reflect the average browsing intensity. Follow the template below and replace the placeholder names with the appropriate column names from your dataset. barplot(Dataset$YAxisColumn, names.arg = Dataset$XAxisColumn, xlab = \"X-axis name goes here\", ylab = \"Y-axis name goes here\", main = \"Figure title goes here\", col = \"forestgreen\", #pick any colour you want cex.names = 0.6) # Reduces x-axis label size for readability Question 17 How does Black Spruce browsing intensity varies by ecoregion? Repeat the steps from question 15 and 16 but now with Black Spruce. With the help of pipes, use the filter() function to filter the Species column for only Black_Spruce, then use group_by() function to sort by Ecoregion , and then determine mean() moose BrowsingScore. Save the resulting summary table as spruce_reg_browse. Using the dataset you just created, make a bar graph the barplot() function to show the Average browsing score for Black Spruce across the ecoregions. Each bar should represent an ecoregion, and the height of the bar should reflect the average browsing intensity How does Black Spruce browsing compare to Balsam Fir browsing across ecoregions? Write 1-2 sentences as a comment # with your answer. Question 18 Were the same number of tree saplings counted in each Ecoregion? Add a line of code where you use the group_by() function and the tally() function to determine how many trees were counted in each Ecoregion. Save the result as sap_reg_tally. sap_reg_tally&lt;- sap_clean %&gt;% group_by(Ecoregion) %&gt;% tally() %&gt;% print() Question 19 Were the same number of tree saplings counted for each species? Add a line of code where you use the tally() function to determine how many individual trees were counted in for each Species. Save the result as sap_spe_tally. HINT: Adapt the code from Question 18 above. Question 20 In any ecological study, it’s important to ask whether the dataset accurately reflects the system you’re trying to understand. In this question, you’ll evaluate whether sampling bias may be affecting your interpretation of moose browsing patterns. a. Add a short comment # saying if you think the SaplingStudy dataset is evenly distributed. Are any ecoregion(s) or tree species overrepresented, are any underepresented in the dataset. b. Why is it important to recognize bias in ecological datasets. Write 1-2 sentences as a comment # with your answer. "],["part-iii-creating-and-joining-datasets.html", "6 Part III: Creating and Joining Datasets", " 6 Part III: Creating and Joining Datasets Moose density and browsing preferences The team of researchers were curious if moose browsing preferences changed depending on moose density. They hypothesized that at At low moose densities: browsing would be selective, with moose favoring the most palatable tree species. At high moose densities: Would have high competition, and browsing pressure would become less selective, with moose consuming all sapling species more uniformly. In this section, we will merge the Moosedataand the Sapling datasets, to explore how browsing intensity on different tree species correlates with moose density across ecoregions. You will practice using the left_join() function to combine these dataset Question 21 a) Using the original moose_clean dataset, filter() function to select only the rows for the year 2020. Then create a new column called MooseDensity using the mutate() function. Save the dataset under a new name called moose_2020b. (HINT: you previously did this for question 9) Use left_join() to join moose_2020b with the sap_clean dataset, matching rows by the common Ecoregion column. Save the result as moose_sap. moose_sap &lt;- left_join(moose_2020b, sap_clean, by = &#39;Ecoregion&#39;, relationship = &quot;many-to-many&quot;) Question 22 Using the dataset you just created, calculate the average browsing score and average moose density for each species within each ecoregion. With the help of pipes %&gt;% , group_by Species and Ecoregion, then use summarize() to find the mean() BrowsingScore, and then find the mean() MooseDensity. Print the result using the print() function. Save the result as sum_spe_browse. HINT: There is example code using pipes %&gt;% in Questions 12 and 18 above. Question 23 The research team created the following figure to help visualize how average browsing intensity on different tree species changes with moose density across ecoregions. The graph uses the ggplot2 package, which is beyond the scope of this assignment. However, if you would like, you can copy and paste the code below into your R console to explore the plot. library(ggplot2) ggplot(sum_spe_browse, aes(x = AvgDensity, y = AvgBrowsing, color= Species)) + geom_point(size = 3) + theme_minimal() + labs(title = &quot;Browsing Intensity Across Moose Density by Species&quot;, x = &quot;Average Moose Density&quot;, y = &quot;Average Browsing Score&quot;) Based on the figure, answer the following questions using 1-2 sentences. Is there evidence that supports the researchers’ hypothesis? Do moose show strong preferences at low density and shift to more generalist browsing at higher density? Add a short comment (1-2 sentences) with your answer. Which sapling specie(s) do moose favour the most? Which do they browse the least? Add a short comment (1-2 sentences) with your answer. Which sapling species is not shown on the figure and why? Add a short comment (1-2 sentences) with your answer. 6.0.1 Moose-vehicle collisions As moose populations expanded across Newfoundland in the 20th century, so did the frequency of moose-vehicle collisions. These incidents pose serious risks to both humans and wildlife, especially in regions where roads intersect key moose habitat. In this section, you’ll explore a simplified dataset containing the number of recorded moose-vehicle collisions per ecoregion in 2020. Your goal is to investigate whether moose density in an ecoregion can help explain collision patterns. Question 24 Copy and paste each vector below, then run them so they appear under your Values section in the Envionment. Then add a line of code (example given below) where you use the data.frame() function to create a dataset using your vectors. Save this dataset as moose_coll. collisions2020 &lt;- c(56, 60, 14, 36, 48, 10, 40, 110, 6) human_pop &lt;- c(18000, 12000, 4000, 75100, 24000,3500, 32000, 270000, 2300) study_sites &lt;- c(&quot;North_Shore_Forests&quot;,&quot;Northern_Peninsula_Forests&quot;, &quot;Long_Range_Barrens&quot;,&quot;Central_Forests&quot;,&quot;Western_Forests&quot;,&quot;EasternHyperOceanicBarrens&quot;,&quot;Maritime_Barrens&quot;,&quot;Avalon_Forests&quot;,&quot;StraitOfBelleIsleBarrens&quot;) moose_coll &lt;- data.frame(collisions2020, human_pop, study_sites) Question 25 Now we would like to join this dataset with moose_2020 (from Part One, question 9). This would allow us to investigate how moose density plays into collisions across our study sites. However, if we try to use left_join() to join them, we will encounter an error. This is because the name of the regions in the moose_2020 dataset is under Ecoregion while our moose_coll dataset stores them under study_sites. To correct this and join our datasets we can use the rename_with() function. Here is some template code that you can adapt to make the necessary change. Rename the column holding site information in the moose_coll dataset and save the renamed result as moose_coll2. Template: rename_with(NewName = OldName) Now join the datasets into a new dataset using left_join(). Save the joined dataset as coll_merge. HINT: follow the template of the code you used above in question 21. Question 26 a. How does moose density relate to the number of moose-vehicle collisions? Use the plot() function to create a scatterplot of MooseDensity and collisions2020 What trends do you see? Are there any outliers? Write 1-2 sentences as a comment. Question 27 Which ecoregions have the highest number of moose collisions per person? Create a new column called coll_per_capita that is equal to collisions2020 divided by human_pop. HINT: Use the mutate function as you did in Part I, question 6, but with appropriate variables. Save the dataset with the new coll_per_capita column as coll_merge_per_capita. Question 28 Use the plot() function to create a scatterplot of coll_per_capita versus human_pop Question 29 Write 1-2 sentences describing what trends you see. Does this trend make sense based on what you know about moose and human populations in Newfoundland? "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
